
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">
    <title>Contoso University with DiPS</title>
    <link href="Content/bootstrap.css" rel="stylesheet">
    <link href="Content/bootstrapValidator.css" rel="stylesheet">
    <link href="Content/bootstrap-datetimepicker.css" rel="stylesheet">
    <link href="Content/jquery_ui/jquery-ui.min.css" rel="stylesheet">
    <link href="Content/bs_pagination/jquery.bs_pagination.min.css" rel="stylesheet">
    <link href="Content/jui_filter/jquery.jui_filter_rules.bs.min.css" rel="stylesheet">
    <link href="Content/bs_grid/jquery.bs_grid.min.css" rel="stylesheet">
    <link href="Content/Site.css" rel="stylesheet" />
    <script src="Scripts/DiPSClient.js"></script>
    <script src="Scripts/main.js"></script>

</head>
<body cz-shortcut-listen="true">



    <div class="navbar navbar-default navbar-fixed-top" role="navigation">

        <div class="navbar-header">
            <div class="container">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">

                    <span class="sr-only">Toggle navigation</span>

                    <span class="icon-bar"></span>

                    <span class="icon-bar"></span>

                    <span class="icon-bar"></span>

                </button>
                <a class="navbar-brand" href="#" style="margin-top:-23px"><img src="Content/DiPSLogo.png" style="border:none;" /></a>
                  <div class="collapse navbar-collapse">
                    <ul class="nav navbar-nav">
                        <li class="active"><a href="#">Contoso University</a></li>
                        <!--toplinks-->
                    </ul>

                </div>
              

                <!--/.nav-collapse -->
            </div>
        </div>
    </div>

    <div id="spinjs" class="spinjs"></div>

    <div class="container">


        <div class="jumbotron">
           <div style="text-align: center; margin: auto"><object type="application/x-shockwave-flash" style="width:720px; height:440px;" data="//www.youtube.com/v/ZdItzmu33BY?color1=0066FF&amp;color2=0033FF&amp;rel=0&amp;hd=1&amp;autoplay=1&amp;version=3&amp;modestbranding=1">
        <param name="movie" value="//www.youtube.com/v/ZdItzmu33BY?color1=0066FF&amp;color2=0033FF&amp;rel=0&amp;hd=1&amp;autoplay=1&amp;version=3&amp;modestbranding=1" />
        <param name="allowFullScreen" value="true" />
        <param name="allowscriptaccess" value="always" />
        </object></div>
            
        </div>
        
        
        <div class="row">
            <div class="col-md-4">
                <h2>Welcome to DiPS backend for Contoso University</h2>
                <p>
                    Contoso University is a sample application that
                    demonstrates how to use DiPS to build a back end for a web application.
                </p>
                <p>You can download the source code <a target="_blank" class="btn btn-info btn-sm" href="https://github.com/pedro-ramirez-suarez/ContosoUniversityDiPS" > here</a>.</p>
            </div>
            <div class="col-md-4">
                <h2>DiPS</h2>
                <p>DiPS is a <b>Di</b>stributed <b>P</b>ublish <b>S</b>ubscribe messaging service</p>
                <p>DiPS <a class="btn btn-info btn-sm" href="http://pedro-ramirez-suarez.github.io/DiPS/" target="_blank">website</a></p>
                <p>You can download the DiPS service binaries <a class="btn btn-info btn-sm" href="https://github.com/pedro-ramirez-suarez/DiPS/raw/master/binaries/DipsServiceBinaries.zip">here</a></p>
                <p>Download the zip, and uncompress the file to <code>c:\dips</code></p>
                <i>You can uncompress the file into another folder, but you may need to change the app.config of the ContosoBackend project to point it into the right folder.</i>
            </div>
            <div class="col-md-4">
                <h2>Contoso University</h2>
                <p>The original Contoso University application is a sample application from Microsoft that was created as a tutorial for Asp.Net MVC 5 and Entity Framework Code First</p>
                <p>You can see the tutorial <a target="_blank" class="btn btn-info btn-sm" href="http://www.asp.net/mvc/overview/getting-started/getting-started-with-ef-using-mvc/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application" > here</a>.</p>
                <p>You can download the original sample code <a  target="_blank" class="btn btn-info btn-sm" href="https://code.msdn.microsoft.com/ASPNET-MVC-Application-b01a9fe8">here</a></p>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <hr/>
                <h2> A web application with a Console app as backend.</h2>
                <p>
                <a href="http://pedro-ramirez-suarez.github.io/DiPS/" target="_blank">DiPS</a> is a Distributed Publish Subscribe service, built with C# and clients for C#, Ruby and Javascript.
                
                The application is a demonstration of how to build a web application that has a console application as backend and communicates with it through DiPS, the web appliction is built only with html, css and javascript.
                </p>
                
                <h2> Running the application</h2>
                <p>The first time you run the application the database structure will be created, you need to create the database and modify the console application  app.config file accordingly.
                
                Run the website without debugging(ctrl+F5).<p>
                
                <h2> Points of interest</h2>
                <p>The backend uses the <a href="http://www.nuget.org/packages/DiPSBackEndApplication/" target="_blank">DiPSBackEndApplication</a> nuget package, this package contains functionality that facilitates the creation of the service that acts as the backend, like registration of the controllers and it's methods, it also uses the <a href="http://www.nuget.org/packages/Needletail.DataAccess/" target="_blank">Needletail</a> micro orm and the  <a href="http://www.nuget.org/packages/Needletail.DataAccess.Migrations/" target="_blank">Needletail Migrations</a> packages for the data base access and initialization.</p>
                
                <h2>Original idea</h2>
                <p>The original contoso university application is a sample app and tutorial from Microsoft, the tutorial is located <a href="https://www.asp.net/mvc/overview/getting-started/getting-started-with-ef-using-mvc/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application" target="_blank">here</a></p>
                
                <h2>Things to improve</h2>
                <p>
                The application needs some improvement handling a high number of  concurrent users, it handles the load pretty well, but some times some browsers may react to events that are intended to be for other user, this is not hard to fix, but right now I am not sure about the best way to handle some scenarios.
                </p>
                <h2>Performance</h2>
                <p>
                    Similar tests were executed with four  different applications:
                    <ul>
                        <li>Contoso University, MVC 5 with Entity Framework 6 code first, this is an app from a Microsoft <a href="http://www.asp.net/mvc/overview/getting-started/getting-started-with-ef-using-mvc/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application" target="_blank">Tutorial</a></li>
                        <li>Wingtip Toys* ASP.Net with Entity Framework 6, this is an app from a Microsoft <a href="https://code.msdn.microsoft.com/Getting-Started-with-221c01f5" target="_blank">tutorial</a></li>
                        <li>Contoso University developed with RAW Framework source code <a href="https://github.com/pedro-ramirez-suarez/ContosoUniversityRaw" target="_blank">here</a></li>
                        <li>Contoso University(this one) with a console app as backend using <a href="http://pedro-ramirez-suarez.github.io/DiPS/" target="_blank">DiPS</a></li>
                    </ul>
                      
                    Performance was tested with <a href="https://github.com/adjust/go-wrk" target="_blank">go-wrk</a> and a custom console app that emulates the go-wrk behavior to test the DiPS backend performance, these are the results:
                    <br/>
                    <small>*Wingtip Toys app was used for control purposes.</small>
                <div class="row">
                    <div class="col-md-12">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th style="width:200px">Application</th>
                                    <th>Test details</th>
                                    <th>Total Time(seconds)<small><br>Lower is better.</small></th>
                                    <th>Requests per second<small><br>Higher is better.</small></th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Wingtip toys with EF initialization</td>
                                    <td>100 calls, 8 threads, 100 connections simultaneous<br/>1000 calls, 8  threads, max 130 connections simultaneous</td>
                                    <td>20.40<br/>49.66</td>
                                    <td>4.90<br/>20.13</td>
                                </tr>
                                <tr>
                                    <td>Contoso University Asp.Net MVC 5 + EF 6, without EF initialization</td>
                                    <td>100 calls, 8 threads, 100 connections simultaneous<br/>1000 calls, 8  threads, max 130 connections simultaneous</td>
                                    <td>32.63<br/>101.74</td>
                                    <td>3.06<br/>9.83</td>
                                </tr>
                                <tr>
                                    <td>Contoso University Asp.Net MVC 5 + EF 6, EF initialization</td>
                                    <td>100 calls, 8 threads, 100 connections simultaneous<br/>1000 calls, 8  threads, max 130 connections simultaneous</td>
                                    <td>16.35<br/>92.83</td>
                                    <td>6.12<br/>10.77</td>
                                </tr>
                                <tr>
                                    <td>Contoso University RAW Framework synchronous controller</td>
                                    <td>100 calls, 8 threads, 100 connections simultaneous<br/>1000 calls, 8  threads, max 130 connections simultaneous</td>
                                    <td>2.01(views), 11.34(data)<br/>7.53(views), 15.26(data)</td>
                                    <td>49.73(views), 8.82(data)<br/>132.80(views), 65.54(data)</td>
                                </tr>
                                <tr>
                                    <td>Contoso University RAW Framework async calls</td>
                                    <td>100 calls, 8 threads, 100 connections simultaneous<br/>1000 calls, 8  threads, max 130 connections simultaneous</td>
                                    <td>2.01(views), 1.76(data) <br/>7.53(views), 2.30(data)</td>
                                    <td>49.73(views), 56.79(data)<br/>132.80(views), 435.09(data)</td>
                                </tr>
                                <tr>
                                    <td>Contoso University Console app with DiPS</td>
                                    <td>100 calls, 8 threads, 100 connections simultaneous<br/>1000 calls, 8  threads, max 130 connections simultaneous</td>
                                    <td>0.40(views), 0.299(data)<br>0.51(views), 0.949449 (data)</td>
                                    <td>247.64(views), 333.45(data)<br/>1949.75(views), 1053.242(data)</td>
                                </tr>
                            </tbody>
                        </table>
                        <small><b>* "Entity Framework(EF) initialization means that a first call to the database is executed, it's well known that with EF the first call to the database takes much more time to execute than subsequent calls.</b></small>
                    </div>
                </div>
                 
                </p>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <h1>How is built?</h1>
            </div>
        </div>
        <div clas="row">
            <div class="col-md-6">
                <h3>The Front End</h3>
                <ul>
                    <li>Bootsrap</li>
                    <li>RequireJS</li>
                    <li>JQuery</li>
                    <li>KnockoutJS</li>
                    <li>DiPS Javascript Client</li>
                    <li>FormValidation io</li>
                    <li>Moment.js</li>
                    <li>Underscore.js</li>
                </ul>
            </div>
            <div class="col-md-6">
                <h3>The Back End</h3>
                <ul>
                    <li>DiPS Client for .Net</li>
                    <li>Needletail Data Access</li>
                    <li>Needletail Data Access Migrations</li>
                </ul>
            </div>
            
        </div>    
<br/>
<br/>

    </div>



</body>
</html>


